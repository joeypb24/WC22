"use strict";window.openInNewWindow=openInNewWindow,window.enableButton=enableButton,window.disableButton=disableButton;let currentViewport=document.querySelector("meta[name=viewport]"),windowWidth=navigator.userAgent.toLowerCase().indexOf("android")>-1&&90===Math.abs(window.orientation)?window.screen.height:window.screen.width;const forceDesktopViewport=document.createElement("meta");forceDesktopViewport.setAttribute("name","viewport"),forceDesktopViewport.setAttribute("content","width=1024");const smallViewport=document.createElement("meta");smallViewport.setAttribute("name","viewport"),isIphone()?smallViewport.setAttribute("content","width=375, maximum-scale="+windowWidth/375):smallViewport.setAttribute("content","width=375");const defaultViewport=document.createElement("meta");function handleViewport(e){const t=windowWidth;if(windowWidth=navigator.userAgent.toLowerCase().indexOf("android")>-1&&90===Math.abs(window.orientation)?window.screen.height:window.screen.width,currentViewport=document.querySelector("meta[name=viewport]"),currentViewport){if(e&&(windowWidth<=375&&t<=375||windowWidth>375&&t>375))return;const n=currentViewport.getAttribute("content").split(",");for(let e=0;e<n.length;++e){const t=n[e].trim().split("=");if("width"===t[0]){if("true"===state.forceDesktop&&"1024"!==t[1]){document.head.removeChild(currentViewport),document.head.appendChild(forceDesktopViewport);break}if("device-width"===t[1]){if(windowWidth<=375){document.head.removeChild(currentViewport),document.head.appendChild(smallViewport);break}}else if("375"===t[1]&&windowWidth>375){document.head.removeChild(currentViewport),document.head.appendChild(defaultViewport);break}}}}else"true"===state.forceDesktop?document.head.appendChild(forceDesktopViewport):document.head.appendChild(windowWidth>375?defaultViewport:smallViewport)}function isIphone(){return["iPhone Simulator","iPhone"].includes(navigator.platform)||/iPhone/.test(navigator.userAgent)}defaultViewport.setAttribute("name","viewport"),defaultViewport.setAttribute("content","width=device-width, initial-scale=1"),handleViewport(!1),window.addEventListener("resize",(function(){handleViewport(!0)})),window.addEventListener("resize",(function(){state.update()}),!0),require(["jquery"],(function(e){"/others"===window.location.pathname&&e(".main-menu .main-menu-content #menu-item-others").addClass("selected");const t=e(".main-menu .main-menu-content .selected");if(t.length){const n=t.offset().left,r=e(window).width(),o=t.outerWidth(!0);e(".main-menu").scrollLeft(n+o-r)}const n=e("#placeholder-footer-content");if(n.length>0){const t=n.data("url");if(t){const r=function(r,o){r.forEach((function(r){r.isIntersecting&&(o.unobserve(r.target),e.ajax({type:"GET",url:t,success:function(e){const t=n.closest(".footer-wrapper");if(t.length>0){const e=t.find(".loading-icon");e.length>0&&e.remove()}t.replaceWith(e)}}))}))};new IntersectionObserver(r,{root:null,rootMargin:"200px",threshold:0}).observe(n.get(0))}}}));let container,currentX,initialX,currentY,initialY,dragItem=document.querySelector(".slider .bottom-drawer-border"),active=!1,xOffset=0,yOffset=0;function initalizeDrawers(){container=document.querySelectorAll(".slider");const e=$(".bottom-drawer > .slider"),t={attributes:!0,childList:!1,subtree:!1},n=new MutationObserver((function(e){$(".bottom-drawer > .slider:not(.close)").length>0?$("html").css("overflow","hidden"):$("html").css("overflow","auto")}));for(const r of e)n.observe(r,t);for(var r=0;r<container.length;r++)container[r].addEventListener("touchstart",dragStart,!1),container[r].addEventListener("touchend",dragEnd,!1),container[r].addEventListener("touchmove",drag,!1),container[r].addEventListener("mousedown",dragStart,!1),container[r].addEventListener("mouseup",dragEnd,!1),container[r].addEventListener("mousemove",drag,!1)}function dragStart(e){dragItem=document.querySelector(".slider:not(.close) .bottom-drawer-border"),isPromotionDrawer(e.currentTarget.closest(".bottom-drawer"))||(e.target.classList.contains("close-drawer")||(document.querySelector(".slider:not(.close)").style.transition="initial"),"touchstart"===e.type?(initialX=e.touches[0].clientX-xOffset,initialY=e.touches[0].clientY-yOffset):(initialX=e.clientX-xOffset,initialY=e.clientY-yOffset),e.target===dragItem&&(active=!0))}function dragEnd(e){container=document.querySelector(".slider:not(.close)"),isPromotionDrawer(e.currentTarget.closest(".bottom-drawer"))||(currentY>0&&(e.currentTarget.closest(".bottom-drawer:not(.hide)")?.classList.add("hide"),e.currentTarget.closest(".slider:not(.close)")?.classList.add("close"),setTranslate(0,0,container),yOffset=0,currentY=0,e.currentTarget.closest(".slider")?.removeAttribute("style")),active=!1)}function isPromotionDrawer(e){return!(!e.parentElement.id||"success-optin-drawer"!==e.parentElement.id&&"success-optout-drawer"!==e.parentElement.id&&"error-optin-drawer"!==e.parentElement.id&&"error-optout-drawer"!==e.parentElement.id)}function drag(e){container=document.querySelector(".slider:not(.close)"),active&&(e.preventDefault(),"touchmove"===e.type?(currentX=e.touches[0].clientX-initialX,currentY=e.touches[0].clientY-initialY):(currentX=e.clientX-initialX,currentY=e.clientY-initialY),currentY<0&&(currentY=0),xOffset=currentX,yOffset=currentY,yOffset>0&&yOffset<400?(setTranslate(0,currentY,container),document.documentElement.style.overflow=""):yOffset>400&&(e.currentTarget.closest(".bottom-drawer:not(.hide)")?.classList.add("hide"),e.currentTarget.closest(".slider:not(.close)")?.classList.add("close"),setTranslate(0,0,container),currentY=0,yOffset=0,e.currentTarget.closest(".slider")?.removeAttribute("style"),document.documentElement.style.overflow=""))}function setTranslate(e,t,n){n&&(n.style.transform="translate3d("+e+"px, "+t+"px, 0)")}function enableButton(e){e.removeClass("button-disabled").addClass("button-validatable"),e.removeAttr("disabled")}function disableButton(e){e.removeClass("button-validatable").addClass("button-disabled"),e.attr("disabled",!0)}function openInNewWindow(e,t,n){window.open(e,"","width="+t+", height="+n)}document.body.addEventListener("click",(e=>{if((!e.target.id||"success-optin-drawer"!==e.target.id&&"success-optout-drawer"!==e.target.id&&"error-optin-drawer"!==e.target.id&&"error-optout-drawer"!==e.target.id)&&(e.target.classList.contains("close-drawer")||e.target.classList.contains("bottom-drawer-border")||e.target.classList.contains("bottom-drawer"))){const t=e.target.closest(".bottom-drawer");t&&(t.classList.add("hide"),t.querySelector(".slider").classList.add("close"),document.documentElement.style.overflow="")}}),!0),initalizeDrawers(),document.addEventListener("click",(e=>{if(e.target.classList.contains("button")&&!e.target.classList.contains("button-disabled")){const t=e.target.querySelector(".button-loading-icon");t&&t.classList.remove("d-none")}}));