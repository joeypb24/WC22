"use strict";require(["jquery"],(function(o){window.openForgotLoginDetailsModal=function(n){const t=o(".forgot-login-details-popup");if(t.length){o("html").css("overflow","hidden");let e=t.find(".modal-overlay");if(e.length)return n?.(),void e.addClass("active");o.ajax({type:"GET",url:"/forgotlogindetailsmodal",success:function(o){n?.(),t.html(o),e=t.find(".modal-overlay"),e.addClass("active")}})}},window.openLoginPopup=d,window.openRegisterPopup=a;var n=!1,t=!1;o(window).on("load",(()=>{n=!0,t&&a()}));const e=o("#login-button");e.length>0&&e.removeAttr("href"),o("#login-button").click((function(){d(!1,null,!0,state.page)}));const i=o("#desktop-join-now-btn");i.length>0&&i.removeAttr("href"),i.click((function(){trackEvents("Click - Join Now","Header",1),t=!0,n&&a()}));const l=o(".modal-register");function a(){l.find(".loading-icon").length?(l.addClass("active"),l.find(".modal-content").addClass("registration-loading"),o.get("/registerpopup","",((n,t,e)=>{let i=o(n),a=l.find(".modal-content").first();i.filter(".modal-content").hide(),l.append(i),setTimeout((()=>{a.remove(),l.find(".modal-content").removeClass("registration-loading"),i.filter(".modal-content").show()}),100)}))):o(".register-popup").show(),o("html").css("overflow","hidden")}function d(n=!1,t=null,e=!0,i=null){const l=o(".login-popup");if(l.length){const a=l.find(".modal-overlay");if(a.length){if(a.hasClass("active"))return;if(a.addClass("active"),!e)return;o(".modal-body",l).html('<div class="loading-icon"></div>')}n=!0===n,o("html").css("overflow","hidden"),o.ajax({type:"GET",url:"/loginmodal",data:{returnURL:i,ignoreRedirect:n,callbackID:t},success:function(n){const t=o('<div id="login-content">').hide().append(n);o(".modal-body",l).append(t),a.addClass("active")},error:function(o,n,t){403===o.status&&location.reload()}})}}o(document).ready((function(){"true"===o("#show-register").val()&&a(),"true"===o("#show-register-popup").val()&&a()}))}));