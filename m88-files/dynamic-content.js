"use strict";const initializedSwipers=[];function handleClickEvents(e,t){null!==e&&matomoProcessTrackedEvent(e);const a=null===e;let s=a?document.getElementById(t):e.target,o=s.getAttribute("data-url");if(null===o&&(s=s.closest("[data-url]"),s&&(o=s.getAttribute("data-url"))),o){if(null!==e&&e.stopPropagation(),"False"===state.user.authenticated){if(s.closest(".require-authentication")){let e=s.id;e||(e=`clickID-${Date.now()}`,s.id=e);const t=document.getElementsByClassName("bottom-drawer");t&&Array.from(t).forEach((e=>{e.classList.add("hide"),e.querySelector(".slider").classList.add("close")}));const a=document.getElementsByClassName("modal-overlay");return a&&Array.from(a).forEach((e=>{e.classList.remove("active")})),void openLoginPopup(!0,e)}}if("/laligaroom#area-laligaslots"===o||"#area-laligaslots"===o)return void(window.location.href="/laligaroom#area-laligaslots");const t=s.closest(".area"),i=t?t.id:null,n=t?t.getAttribute("data-type"):null,r=s.closest(".tile"),l=r?r.id:null,c=r?r.getAttribute("data-type"):null;if("Casino"===c&&"dynamic"===o){const e=r.getAttribute("data-game-id");return void openGameInformation(e)}if(s.classList.contains("no-redirect"))return;let d=!1,u=!1;const m=["area-live-casino","area-keno-lotto","area-inline-games","area-laligaroomsection","area-lottery","area-jackpots"],p=["casino"],g=[...["/sports","/pinnacle","/esports","/bsports"],"?provider"];if(["casino-game-popup","casino-bottom-drawer","instant-games-container","casino-search-results","casino-search-bottom-drawer"].some((e=>s.closest(`#${e}`))))d=!0;else if(i&&m.includes(i)||n&&p.includes(n))d=!0;else if(g.some((e=>o.includes(e))));else if(l&&"tile-msports"===l||o.startsWith("/msports")){if("True"===state.user.authenticated&&(u=!0,state.userAgent.indexOf("os 12")>-1)){const e=-1!==o.indexOf("?");o+=e?"&redirect=true":"?redirect=true"}}else i&&"area-sportsbook"===i||(i&&"area-recently-played"===i&&c&&!["Sportsbook","KYPoker","V8Poker","NGPoker"].includes(c)?d=!0:s.closest(".new-tab")?u=!0:s.closest(".new-window")?d=!0:s.closest(".macro-menu .macro-cards")&&(d=!1));d?(state.desktop?window.open(o,"popup",`height=${window.outerHeight}, width=${window.outerWidth}`):window.open(o,"_blank"),a&&window.location.reload(!1)):u?(window.open(o,"_blank"),a&&window.location.reload(!1)):window.location.href=o}else{const t=e.target.closest(".casino-filter-link");if(t){const e=t.dataset.category,a=t.dataset.provider,s=t.dataset.sort;if(state.page.includes("/casino"))filterCasinoGames(e,a,s);else{let t="";t+=e?`${t?"&":"?"}category=${e.replace(",","%2C")}`:"",t+=a?`${t?"&":"?"}provider=${a.replace(",","%2C")}`:"",t+=s?`${t?"&":"?"}sort=${s}`:"",window.location.href=`/casino${t}`}}}}function loginCallback(e){handleClickEvents(null,e)}document.body.addEventListener("click",(function(e){handleClickEvents(e)}),!0);let callInitializeSwipers=!1;function initializeSwipers(){callInitializeSwipers=!0}require(["swiper"],(function(e){function t(){const t=document.querySelectorAll(".swiper:not(.processed)");t&&(t.forEach((function(t){const a=t.closest(".area"),s=t.getAttribute("data-slides-per-group")??1,o=1===s,i=a?a.querySelector(".swiper-pagination"):t.querySelector(".swiper-pagination");let n=!1;null!==i&&(n={el:i,clickable:!0,type:"bullets"});const r=t.querySelector(".swiper-button-next"),l=t.querySelector(".swiper-button-prev");let c=!1;null!==r&&null!==l&&(c={nextEl:r,prevEl:l});const d=new e(t,{slidesPerView:"auto",slidesPerGroup:1,slidesPerGroupAuto:!0,freeMode:!0,allowTouchMove:!0,pagination:n,navigation:c,preloadImages:!1,lazy:!0,watchSlidesProgress:!0,spaceBetween:8,breakpoints:{1024:{slidesPerGroup:parseInt(s),slidesPerGroupAuto:o,freeMode:!1,spaceBetween:16,focusableElements:"a"}}});d.id=t.id,initializedSwipers.push(d),t.classList.add("processed")})),document.dispatchEvent(new CustomEvent("swipersInitialized")))}window.initializeSwipers=t,callInitializeSwipers&&t()}));const imageObserverOptions={threshold:0},imageObserver=new IntersectionObserver(lazyLoadImageIntersectionObserver,imageObserverOptions);function lazyLoadImages(){const e=document.querySelectorAll(".lazy-load:not(.processed):not(.observed)");e&&e.forEach((function(e){imageObserver.observe(e),e.classList.add("observed")}))}const swipersToUpdateIDs=[];function debounce(e,t=100){let a;return(...s)=>{clearTimeout(a),a=setTimeout((()=>{e.apply(this,s)}),t)}}function updateSwipers(){const e=[...swipersToUpdateIDs];swipersToUpdateIDs.length=0,e.forEach((e=>{const t=initializedSwipers.find((t=>t.id===e));t&&t.update()}))}const processChange=debounce((()=>updateSwipers()));function handleImage(e){const t=e.closest(".swiper");t&&(swipersToUpdateIDs.includes(t.id)||(swipersToUpdateIDs.push(t.id),processChange()))}function lazyLoadImageIntersectionObserver(e,t){e.forEach((function(e){if(e.isIntersecting){const a=e.target;t.unobserve(a);const s=document.createElement("img");if(a.dataset.src){s.setAttribute("src",a.dataset.src),s.setAttribute("loading","lazy");a.dataset.alt&&s.setAttribute("alt",a.dataset.alt);const e=a.dataset.class;e&&s.setAttribute("class",e),s.classList.add("lazy-load-image"),a.parentNode.insertBefore(s,a.nextSibling),a.classList.add("processed"),s.addEventListener("load",(e=>{handleImage(s);const t=s.closest(".tile");t&&t.classList.add("loaded"),s.classList.remove("lazy-load-image"),a.remove(),e.target.classList.contains("game-image-item")?gameImageItemLoaded(s):e.target.closest(".game-image")&&mainGameImageLoaded(s)}),{once:!0}),s.addEventListener("error",(e=>{handleImage(s),e.target.classList.contains("game-image-item")?(a.remove(),gameImageItemFailed(s)):e.target.closest(".game-image")?s.src=getMissingImagePlaceholder():s.src=a.dataset.missingSrc}),{once:!0})}}}))}const sectionObserverOptions={threshold:0},sectionObserver=new IntersectionObserver(lazyLoadSectionIntersectionObserver,sectionObserverOptions),$lazyLoadSections=$("div[data-lazy-load]");function lazyLoadSectionIntersectionObserver(e,t){e.forEach((function(e){if(e.isIntersecting){const a=e.target;t.unobserve(a),loadLazyLoadedSection(a)}}))}function loadLazyLoadedSection(e){const t=$(e),a=t.data("lazy-load"),s=t.data("section-type");$.ajax({type:"GET",url:`common/lazyload/${a}`,success:function(e){t.replaceWith(e),lazyLoadImages(),initializeSwipers(),document.dispatchEvent(new CustomEvent("lazy-load",{detail:{sectionType:s}}))}})}function matomoProcessTrackedEvent(e){let t=e.target.closest(".track-events");if(null!=e.target.classList&&e.target.classList.contains("toggle-wrapper"));else if(t){null!=t.classList&&t.classList.contains("track-children-data")&&(t=t.querySelector(".track-events"));let e=t.getAttribute("data-tracking-name"),a=e?` - ${e}`:"";do{t=t.parentElement.closest("[data-tracking-name]"),t&&(e=t.getAttribute("data-tracking-name"),a=` - ${e}${a}`)}while(t);trackEvents(`Click${a}`,state.getMatomoPage(),1)}}function initializeRecentlyPlayedGames(){[...document.getElementsByClassName("recently-played-tiles loaded")].forEach((e=>{const t=e.closest(".area");t&&t.classList.remove("no-content","d-none")}));[...document.getElementsByClassName("no-content")].forEach((e=>{const t=e.closest(".area");t&&t.remove()}));[...document.getElementsByClassName("recommended")].forEach((e=>{let t="white";switch(e.dataset.type){case"Casino":t="light-blue";break;case"LiveCasino":t="light-violet";break;case"Sportsbook":t="light-green";break;case"Lotto":t="light-lime";break;default:t="white"}const a=document.createElement("span");a.classList.add("recommended","tag","md","lg-desktop",t),a.appendChild(document.createTextNode(translationsGlobal.recommended)),e.appendChild(a),e.classList.remove("recommended")}))}function initialize(){lazyLoadImages(),initializeRecentlyPlayedGames(),initializeSwipers()}$lazyLoadSections.length>0&&($lazyLoadSections.each((function(e,t){sectionObserver.observe(t)})),setTimeout((function(){$("div[data-lazy-load]").each((function(e,t){sectionObserver.unobserve(t),loadLazyLoadedSection(t)}))}),15e4)),$(".mode-toggle").click((function(e){var t=state.mode;"True"!==state.defaultPageMode&&($(this).is(":checked")?(t="dark",$(".mode-toggle").prop("checked",!0),$(".mode-toggle").next("label").attr("data-tracking-name","OFF")):(t="default",$(".mode-toggle").prop("checked",!1),$(".mode-toggle").next("label").attr("data-tracking-name","ON")),$("html").attr("data-theme",t),state.setMode(t));var a=document.getElementById("change-mode");$.ajax({url:a.action,error:"error",dataType:"json"})})),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){initialize()})):initialize();